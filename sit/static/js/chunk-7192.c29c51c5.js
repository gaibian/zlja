(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7192"],{iz2W:function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return l}),a.d(t,"c",function(){return s});var n=a("t3Un");function i(e){return n.a.delete("admin/noncarCirculationSheet/"+e)}function r(e){return n.a.post("admin/noncarCirculationSheet",e)}function l(e){return n.a.get("admin/noncarCirculationSheet/"+e)}function s(e,t){return n.a.put("admin/noncarCirculationSheet/",e,t)}},pCtG:function(e,t,a){"use strict";var n=a("7Qib");t.a={mounted:function(){var e=this;this.valHandle(),this.__resizeMainHanlder=Object(n.a)(function(){e.valHandle(0,0)},100),window.addEventListener("resize",this.__resizeMainHanlder)},methods:{valHandle:function(e,t){var a=this.$refs.mainContainer.offsetHeight-40-((this.$refs.topAdd?this.$refs.topAdd.offsetHeight:0)+(this.$refs.btmGroup?this.$refs.btmGroup.offsetHeight:20));this.tableHeight=a}},beforeDestroy:function(){window.removeEventListener("resize",this.__resizeMainHanlder)}}},zey9:function(e,t,a){"use strict";a.r(t);var n=a("iz2W"),i={name:"noCarCirculationAdmin",mixins:[a("pCtG").a],data:function(){return{tableData:[],update:!1,searchForm:{keywords:"",policy_num:"",salesman:"",start:"",end:"",queryCheck:0},tableHeight:null,loading:!1,userData:{type:1}}},created:function(){var e=this;bus.$on("noCarCirculationList",function(){e.update=!e.update})},methods:{handleQuery:function(){this.searchForm.queryCheck=1,this.update=!this.update},handleSeeClick:function(e){this.$router.push({name:"noCarCirculationFileAdmin",params:{id:e.row.id},query:{pageClick:_g.editRefresh("noCarCirculationFileAdmin")}})},editClick:function(e){this.$router.push({name:"noCarCirculationEdit",params:{id:e.row.id},query:{pageClick:_g.editRefresh("noCarCirculationEdit")}})},confirmDelete:function(e){var t=this;this.$confirm("确认删除该非车流转单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.d)(e.row.id).then(function(e){"error"!==e&&(_g.toastMsg("success","删除成功"),setTimeout(function(){t.update=!t.update}))})})},handleAdd:function(){this.$router.push({name:"noCarCirculationadd"})},handlePaging:function(e){var t=this;this.loading=!0,setTimeout(function(){t.tableData=e.map(function(e){return e.isEditLoading=!1,e.isDeleteLoading=!1,e}),t.loading=!t.loading,console.log(t.tableData)},300)}},computed:{indexShow:function(){return _g.getHasRule("admin-noncarcirculationsheet-index")},addShow:function(){return _g.getHasRule("admin-noncarcirculationsheet-save")},readShow:function(){return _g.getHasRule("admin-noncarcirculationsheet-read")},deleteShow:function(){return _g.getHasRule("admin-noncarcirculationsheet-delete")}}},r=a("KHd+"),l=Object(r.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"mainContainer",staticClass:"app_main_container"},[a("div",{staticClass:"page_table_box"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入被保人查询"},model:{value:e.searchForm.keywords,callback:function(t){e.$set(e.searchForm,"keywords",t)},expression:"searchForm.keywords"}}),e._v(" "),a("user-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{size:"small",url:"admin/users",data:e.userData,placeholder:"请输入业务员"},model:{value:e.searchForm.salesman,callback:function(t){e.$set(e.searchForm,"salesman",t)},expression:"searchForm.salesman"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入保单号查询"},model:{value:e.searchForm.policy_num,callback:function(t){e.$set(e.searchForm,"policy_num",t)},expression:"searchForm.policy_num"}}),e._v(" "),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{type:"date",size:"small","value-format":"yyyy-MM-dd",clearable:"",placeholder:"请选择开始日期"},model:{value:e.searchForm.start,callback:function(t){e.$set(e.searchForm,"start",t)},expression:"searchForm.start"}}),e._v(" "),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{type:"date",size:"small","value-format":"yyyy-MM-dd",clearable:"",placeholder:"请选择结束日期"},model:{value:e.searchForm.end,callback:function(t){e.$set(e.searchForm,"end",t)},expression:"searchForm.end"}}),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"small",type:"warning"},on:{click:e.handleQuery}},[e._v("查询")]),e._v(" "),e.addShow?a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("添加")]):e._e()],1),e._v(" "),e.indexShow?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,border:"","element-loading-text":"数据加载中",stripe:"","max-height":e.tableHeight}},[a("el-table-column",{attrs:{label:"订单日期",prop:"write_date","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"保单号",prop:"policy_number","min-width":"230"}}),e._v(" "),a("el-table-column",{attrs:{label:"被保人",prop:"insured_name","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"承保公司",prop:"company_name","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"投保险种",prop:"kind","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"业务员(工号)",prop:"salesman_name","min-width":"165"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.salesman_name)+"("+e._s(t.row.username)+")")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tag",{attrs:{type:e._f("statusFilter")(t.row.status)}},[e._v("\n                        "+e._s(e._f("finish")(t.row.status))+"\n                    ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"55",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operates",[a("operate",{attrs:{label:"查看文件",icon:"operate-see",svgIcon:""},on:{change:function(a){e.handleSeeClick(t)}}}),e._v(" "),e.readShow?a("operate",{attrs:{label:"编辑",icon:"operate-edit",svgIcon:""},on:{change:function(a){e.editClick(t)}}}):e._e(),e._v(" "),e.deleteShow?a("operate",{attrs:{label:"删除",icon:"operate-delete",svgIcon:""},on:{change:function(a){e.confirmDelete(t)}}}):e._e()],1)]}}])})],1):e._e(),e._v(" "),a("div",{ref:"btmGroup",staticStyle:{height:"70px"}},[a("el-row",{staticClass:"pos_rel",staticStyle:{height:"70px"},attrs:{type:"flex",align:"middle",justify:"end"}},[a("paging",{attrs:{type:"admin/noncarCirculationSheet",updateType:"policy",update:e.update,pagingdata:e.searchForm},on:{loadingChange:function(t){e.loading=!0},policyPaging:e.handlePaging}})],1)],1)],1)])},[],!1,null,null,null);l.options.__file="list.vue";t.default=l.exports}}]);