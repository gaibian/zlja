(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3192"],{"D/Lr":function(t,e,i){"use strict";var n=i("pMr6");i.n(n).a},RiZP:function(t,e,i){"use strict";i.r(e);var n=i("lTED"),r={name:"ruleAdd",data:function(){return{postForm:{status:"draft"},isLoading:!1,form:{title:"",name:"",pid:null,level:"1"},isBtnActive:!1,defaultProps:{children:"children",label:"title"},treeVal:"请选择父节点",options:[{id:0,title:"根节点"}],rules:{title:[{required:!0,message:"请输入节点名称",trigger:"blur"}],name:[{required:!0,message:"请输入节点显示名",trigger:"blur"}],level:[{required:!0,message:"请选择节点类型"}],pid:[{type:"number",required:!0,message:"请选择父级节点"}]}}},methods:{handleEmpty:function(){this.form={title:"",name:"",pid:null,level:"1"}},handleNodeClick:function(t){console.log(t),this.isBtnActive=!0,this.treeVal=t.title,this.form.pid=t.id},add:function(){var t=this;this.$refs.form.validate(function(e){e&&(t.isLoading=!t.isLoading,Object(n.d)(t.form).then(function(e){_g.toastMsg("success","添加成功"),setTimeout(function(){t.goback()},1500),t.isLoading=!t.isLoading}))})},getRules:function(){var t=this;Object(n.a)().then(function(e){t.options=e.data})}},created:function(){this.getRules()}},l=(i("D/Lr"),i("KHd+")),a=Object(l.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("sticky",{attrs:{className:"sub-navbar "+t.postForm.status,stickyTop:84}},[i("div",{ref:"appMainFixed",staticClass:"app-main-btm-fixed"},[i("h1",{staticClass:"page-title-box"},[t._v("\n        系统参数"),i("em"),i("span",[t._v("/添加列表项")])]),t._v(" "),i("div",[i("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-close"},on:{click:function(e){t.handleEmpty()}}},[t._v("清空表单")]),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini",loading:t.isLoading},on:{click:t.add}},[t._v("保存")])],1)])]),t._v(" "),i("div",{staticClass:"app_main_content"},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"110px","label-position":"top"}},[i("div",{staticClass:"block-box"},[i("h1",{staticClass:"block-header-box"},[i("i"),t._v("\n          基本信息\n        ")]),t._v(" "),i("div",{staticClass:"block-content-box"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"显示名",prop:"title"}},[i("el-input",{attrs:{placeholder:"请输入显示名",clearable:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title","string"==typeof e?e.trim():e)},expression:"form.title"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"请输入名称",clearable:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name","string"==typeof e?e.trim():e)},expression:"form.name"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"父节点",prop:"pid"}},[i("multi-picker",{attrs:{options:t.options,width:300,defaultProps:t.defaultProps,treeVal:t.treeVal},on:{treeClick:t.handleNodeClick}})],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"节点类型",prop:"level"}},[i("el-radio-group",{model:{value:t.form.level,callback:function(e){t.$set(t.form,"level",e)},expression:"form.level"}},[i("el-radio",{attrs:{label:"1"}},[t._v("项目")]),t._v(" "),i("el-radio",{attrs:{label:"2"}},[t._v("模块")]),t._v(" "),i("el-radio",{attrs:{label:"3"}},[t._v("操作")])],1)],1)],1)])])],1)],1)},[],!1,null,"2768143e",null);a.options.__file="add.vue";e.default=a.exports},lTED:function(t,e,i){"use strict";i.d(e,"f",function(){return r}),i.d(e,"e",function(){return l}),i.d(e,"d",function(){return a}),i.d(e,"a",function(){return o}),i.d(e,"c",function(){return s}),i.d(e,"b",function(){return c});var n=i("t3Un");function r(){return n.a.get("admin/rules")}function l(t){return n.a.delete("admin/rules/",t)}function a(t){return n.a.post("admin/rules",t)}function o(){return n.a.get("admin/rules")}function s(t,e){return n.a.put("admin/rules/",t,e)}function c(t){return n.a.get("admin/rules/"+t)}},pMr6:function(t,e,i){}}]);