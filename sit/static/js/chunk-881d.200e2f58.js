(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-881d"],{Msx8:function(e,t,i){"use strict";i.r(t);var a=i("UajC"),n={mixins:[i("pCtG").a],data:function(){return{viewOptions:[],value:"",tableData:[],viewName1:"",fieldOptions:[],loading:!1,tableHeight:null,viewName:{view_name:"",line:1}}},created:function(){var e=this;this.loading=!1,Object(a.a)().then(function(t){"error"!==t&&(e.viewOptions=t.data.list)})},methods:{handleQuery:function(){var e=this;this.loading=!0,Object(a.c)(this.viewName.view_name).then(function(t){if("error"!==t){for(var i in e.fieldOptions=[],e.tableData=t.data.list,t.data.list[0])e.fieldOptions.push(i);e.loading=!1}})},handleView:function(){this.viewName.view_name=this.viewName1}}},s=i("KHd+"),r=Object(s.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"mainContainer",staticClass:"app_main_container"},[i("div",{staticClass:"page_table_box"},[i("div",{ref:"topAdd",staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请选择视图名称",size:"small"},on:{change:e.handleView},model:{value:e.viewName1,callback:function(t){e.viewName1=t},expression:"viewName1"}},e._l(e.viewOptions,function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.view_name}})})),e._v(" "),i("el-button",{staticClass:"filter-item",attrs:{type:"warning",size:"small",icon:"el-icon-search"},on:{click:e.handleQuery}},[e._v("查询")]),e._v(" "),i("import-excel",{staticClass:"filter-item",attrs:{viewName:e.viewName}})],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"max-height":e.tableHeight,border:""}},e._l(e.fieldOptions,function(e,t){return i("el-table-column",{key:t,attrs:{prop:e}})}))],1)])},[],!1,null,null,null);r.options.__file="list.vue";t.default=r.exports},UajC:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s}),i.d(t,"c",function(){return r});var a=i("t3Un");function n(){return a.a.get("admin/report/getViewList")}function s(e){return a.a.post("admin/report/setView",e)}function r(e){return a.a.get("test/dataList?view_name="+e)}},pCtG:function(e,t,i){"use strict";var a=i("7Qib");t.a={mounted:function(){var e=this;this.valHandle(),this.__resizeMainHanlder=Object(a.a)(function(){e.valHandle(0,0)},100),window.addEventListener("resize",this.__resizeMainHanlder)},methods:{valHandle:function(e,t){var i=this.$refs.mainContainer.offsetHeight-40-((this.$refs.topAdd?this.$refs.topAdd.offsetHeight:0)+(this.$refs.btmGroup?this.$refs.btmGroup.offsetHeight:20));this.tableHeight=i}},beforeDestroy:function(){window.removeEventListener("resize",this.__resizeMainHanlder)}}}}]);