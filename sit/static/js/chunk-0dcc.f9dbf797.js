(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0dcc"],{"8/u/":function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return m});var r=n("t3Un");function a(e){return r.a.get("admin/users",e)}function o(e){return r.a.delete("admin/users/"+e)}function i(e){return r.a.post("admin/users",e)}function l(){return r.a.get("admin/groups")}function s(e,t){return r.a.put("admin/users/",e,t)}function c(e){return r.a.get("admin/users/"+e)}function u(e){return r.a.post("admin/users/followSave",e)}function m(e){return r.a.delete("admin/users/followDelete/"+e)}},"8T0q":function(e,t,n){"use strict";n.d(t,"r",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return m}),n.d(t,"c",function(){return p}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return d}),n.d(t,"k",function(){return _}),n.d(t,"l",function(){return b}),n.d(t,"q",function(){return y}),n.d(t,"m",function(){return v}),n.d(t,"n",function(){return h}),n.d(t,"o",function(){return k}),n.d(t,"p",function(){return g});var r=n("t3Un");function a(e){return r.a.get("insurance/company",e)}function o(e){return r.a.post("insurance/company",e)}function i(e){return r.a.delete("insurance/company/"+e)}function l(e){return r.a.get("insurance/company/"+e)}function s(e,t){return r.a.put("insurance/company/",e,t)}function c(e){return r.a.post("insurance/companyRate",e)}function u(e){return r.a.get("insurance/companyRate/"+e)}function m(e,t){return r.a.put("insurance/companyRate/",e,t)}function p(e){return r.a.delete("insurance/companyRate/"+e)}function f(e){return r.a.post("insurance/ask",e)}function d(e){return r.a.delete("insurance/ask/"+e)}function _(e){return r.a.get("insurance/ask/"+e)}function b(e,t){return r.a.put("insurance/ask/",e,t)}function y(e){return r.a.get("insurance/ask/logIndex",e)}function v(e){return r.a.post("insurance/ask/logSave",e)}function h(e){return r.a.delete("insurance/ask/logDelete/?id="+e,"")}function k(e){return r.a.get("insurance/ask/logRead/?id="+e)}function g(e,t){return r.a.put("insurance/ask/logUpdate/",e,t)}},GybM:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s});var r=n("t3Un");function a(e){return r.a.post("insurance/policy",e)}function o(e){return r.a.delete("insurance/policy/",e)}function i(e){return r.a.get("insurance/kind/getKindByCompanyId?company_id="+e)}function l(e){return r.a.get("insurance/policy/"+e)}function s(e,t){return r.a.put("insurance/policy/",e,t)}},nj6g:function(e,t,n){"use strict";n.r(t);var r=n("GybM"),a=n("8T0q"),o=n("8/u/"),i={name:"policyAdd",data:function(){return{postForm:{status:"draft"},form:{user_id:"",policy_number:"",premium:null,ship_tax_fee:"",stamp_tax_fee:"",company_id:null,company_name:"",insurance_number:"",insurance_id:"",insurance_name:"",insurance_detail:"",pay_time:"",issue_time:"",check_time:"",car_vehicle:"",endorsement_number:"",type:"",delivery:"",customer_number:"",insured_name:"",insured_card_num:"",insured_phone:"",applicant_name:"",applicant_card_num:"",applicant_phone:"",benefit_name:"",benefit_card_num:"",benefit_phone:""},typeOptions:[{label:"车险保单",id:1},{label:"非车险保单",id:2}],userOptions:[],companyOptions:[],kindCodeOptions:[],kindNameOptions:[],isLoading:!1}},created:function(){this.init()},methods:{handleEmpty:function(){this.form={user_id:null,policy_number:"",premium:null,ship_tax_fee:"",stamp_tax_fee:"",company_id:null,company_name:"",insurance_number:"",insurance_id:"",insurance_name:"",insurance_detail:"",pay_time:"",issue_time:"",check_time:"",car_vehicle:"",endorsement_number:"",type:"",delivery:"",customer_number:"",insured_name:"",insured_card_num:"",insured_phone:"",applicant_name:"",applicant_card_num:"",applicant_phone:"",benefit_name:"",benefit_card_num:"",benefit_phone:""}},remoteMethod:function(e){var t=this;if(""!==e){var n={params:{keywords:e,type:1}};Object(o.g)(n).then(function(e){t.userOptions="error"!==e?e.data.list:[]})}},init:function(){var e=this;Object(a.r)().then(function(t){"error"!==t&&(e.companyOptions=t.data.list)})},handleCompany:function(e){var t=this;_(this.companyOptions).forEach(function(e){(e.id=t.form.company_id)&&(t.form.company_name=e.company_name)}),Object(r.a)(e).then(function(e){"error"!==e&&(t.kindCodeOptions=e.data)})},handleKindName:function(e){var t=this;_(this.kindCodeOptions).forEach(function(n){n.id===e&&(t.form.insurance_number=n.number,t.form.insurance_name=n.name)})},handleSubmit:function(){var e=this;this.$refs.form.validate(function(t){e.isLoading=!e.isLoading,t&&Object(r.d)(e.form).then(function(t){"error"!==t?(_g.toastMsg("success","添加成功"),setTimeout(function(){e.addRefresh("policyList"),e.isLoading=!e.isLoading})):e.isLoading=!e.isLoading})})}}},l=n("KHd+"),s=Object(l.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("sticky",{attrs:{className:"sub-navbar "+e.postForm.status,stickyTop:84}},[n("div",{ref:"appMainFixed",staticClass:"app-main-btm-fixed"},[n("h1",{staticClass:"page-title-box"},[e._v("\n          保单"),n("em"),n("span",[e._v("/添加列表项")])]),e._v(" "),n("div",[n("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-close"},on:{click:function(t){e.handleEmpty()}}},[e._v("清空表单")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini",loading:e.isLoading},on:{click:e.handleSubmit}},[e._v("保存")])],1)])]),e._v(" "),n("div",{staticClass:"app_main_content"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-position":"top"}},[n("div",{staticClass:"block-box"},[n("el-row",{staticClass:"block-header-box"},[n("i"),e._v("\n            基本信息\n          ")]),e._v(" "),n("div",{staticClass:"block-content-box"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"代理人",prop:"user_id"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择代理人",filterable:"",remote:"",clearable:"","reserve-keyword":"","remote-method":e.remoteMethod},model:{value:e.form.user_id,callback:function(t){e.$set(e.form,"user_id","string"==typeof t?t.trim():t)},expression:"form.user_id"}},e._l(e.userOptions,function(e){return n("el-option",{key:e.id,attrs:{label:e.realname,value:e.id}})}))],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"保单号",prop:"policy_number"}},[n("el-input",{attrs:{placeholder:"请输入保单号",clearable:""},model:{value:e.form.policy_number,callback:function(t){e.$set(e.form,"policy_number","string"==typeof t?t.trim():t)},expression:"form.policy_number"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"保费",prop:"premium"}},[n("el-input",{attrs:{placeholder:"请输入保费",clearable:""},model:{value:e.form.premium,callback:function(t){e.$set(e.form,"premium","string"==typeof t?t.trim():t)},expression:"form.premium"}})],1)],1)],1),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"车船税",prop:"ship_tax_fee"}},[n("el-input",{attrs:{placeholder:"请输入车船税",clearable:""},model:{value:e.form.ship_tax_fee,callback:function(t){e.$set(e.form,"ship_tax_fee","string"==typeof t?t.trim():t)},expression:"form.ship_tax_fee"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"印花税",prop:"stamp_tax_fee"}},[n("el-input",{attrs:{placeholder:"请输入印花税",clearable:""},model:{value:e.form.stamp_tax_fee,callback:function(t){e.$set(e.form,"stamp_tax_fee","string"==typeof t?t.trim():t)},expression:"form.stamp_tax_fee"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"实收保费时间",prop:"pay_time"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",clearable:"",placeholder:"请输入实收保费时间"},model:{value:e.form.pay_time,callback:function(t){e.$set(e.form,"pay_time",t)},expression:"form.pay_time"}})],1)],1)],1),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"保险公司名称",prop:"company_id"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择保险公司名称"},on:{change:e.handleCompany},model:{value:e.form.company_id,callback:function(t){e.$set(e.form,"company_id","string"==typeof t?t.trim():t)},expression:"form.company_id"}},e._l(e.companyOptions,function(e){return n("el-option",{key:e.id,attrs:{label:e.company_name,value:e.id}})}))],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"险种名称",prop:"insurance_id"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择险种名称"},on:{change:e.handleKindName},model:{value:e.form.insurance_id,callback:function(t){e.$set(e.form,"insurance_id","string"==typeof t?t.trim():t)},expression:"form.insurance_id"}},e._l(e.kindCodeOptions,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"险种编码",prop:"insurance_number"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"险种编码",disabled:""},model:{value:e.form.insurance_number,callback:function(t){e.$set(e.form,"insurance_number","string"==typeof t?t.trim():t)},expression:"form.insurance_number"}},e._l(e.kindCodeOptions,function(e){return n("el-option",{key:e.id,attrs:{label:e.number,value:e.id}})}))],1)],1)],1),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"出单时间",prop:"issue_time"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",clearable:"",placeholder:"请输入出单时间"},model:{value:e.form.issue_time,callback:function(t){e.$set(e.form,"issue_time",t)},expression:"form.issue_time"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"审单时间",prop:"check_time"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",clearable:"","value-format":"yyyy-MM-dd",placeholder:"请输入审单时间"},model:{value:e.form.check_time,callback:function(t){e.$set(e.form,"check_time",t)},expression:"form.check_time"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"保单类型",prop:"type"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择保单类型",clearable:""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,function(e){return n("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}))],1)],1)],1),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"车架号",prop:"car_vehicle"}},[n("el-input",{attrs:{placeholder:"请输入车架号",clearable:""},model:{value:e.form.car_vehicle,callback:function(t){e.$set(e.form,"car_vehicle","string"==typeof t?t.trim():t)},expression:"form.car_vehicle"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"客户识别号",prop:"customer_number"}},[n("el-input",{attrs:{placeholder:"请输入客户识别号",clearable:""},model:{value:e.form.customer_number,callback:function(t){e.$set(e.form,"customer_number","string"==typeof t?t.trim():t)},expression:"form.customer_number"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"批单号",prop:"endorsement_number"}},[n("el-input",{attrs:{placeholder:"请输入批单号",clearable:""},model:{value:e.form.endorsement_number,callback:function(t){e.$set(e.form,"endorsement_number","string"==typeof t?t.trim():t)},expression:"form.endorsement_number"}})],1)],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"配送信息",prop:"delivery"}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入配送信息",clearable:""},model:{value:e.form.delivery,callback:function(t){e.$set(e.form,"delivery","string"==typeof t?t.trim():t)},expression:"form.delivery"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"block-box"},[n("el-row",{staticClass:"block-header-box"},[n("i"),e._v("\n            被保人信息\n          ")]),e._v(" "),n("div",{staticClass:"block-content-box"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"被保人姓名",prop:"insured_name"}},[n("el-input",{attrs:{placeholder:"请输入被保人姓名",clearable:""},model:{value:e.form.insured_name,callback:function(t){e.$set(e.form,"insured_name","string"==typeof t?t.trim():t)},expression:"form.insured_name"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"被保人身份证号\n",prop:"insured_card_num"}},[n("el-input",{attrs:{placeholder:"请输入被保人身份证号\n",clearable:""},model:{value:e.form.insured_card_num,callback:function(t){e.$set(e.form,"insured_card_num","string"==typeof t?t.trim():t)},expression:"form.insured_card_num"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"被保人手机号",prop:"insured_phone"}},[n("el-input",{attrs:{placeholder:"请输入被保人手机号",clearable:""},model:{value:e.form.insured_phone,callback:function(t){e.$set(e.form,"insured_phone",e._n(t))},expression:"form.insured_phone"}})],1)],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"block-box"},[n("el-row",{staticClass:"block-header-box"},[n("i"),e._v("\n            投保人信息\n          ")]),e._v(" "),n("div",{staticClass:"block-content-box"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"投保人姓名",prop:"applicant_name"}},[n("el-input",{attrs:{placeholder:"请输入投保人姓名",clearable:""},model:{value:e.form.applicant_name,callback:function(t){e.$set(e.form,"applicant_name","string"==typeof t?t.trim():t)},expression:"form.applicant_name"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"投保人身份证号\n",prop:"applicant_card_num"}},[n("el-input",{attrs:{placeholder:"请输入投保人身份证号\n",clearable:""},model:{value:e.form.applicant_card_num,callback:function(t){e.$set(e.form,"applicant_card_num","string"==typeof t?t.trim():t)},expression:"form.applicant_card_num"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"投保人手机号",prop:"applicant_phone"}},[n("el-input",{attrs:{placeholder:"请输入投保人手机号",clearable:""},model:{value:e.form.applicant_phone,callback:function(t){e.$set(e.form,"applicant_phone",e._n(t))},expression:"form.applicant_phone"}})],1)],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"block-box"},[n("el-row",{staticClass:"block-header-box"},[n("i"),e._v("\n            受益人信息\n          ")]),e._v(" "),n("div",{staticClass:"block-content-box"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"受益人姓名",prop:"benefit_name"}},[n("el-input",{attrs:{placeholder:"请输入受益人姓名",clearable:""},model:{value:e.form.benefit_name,callback:function(t){e.$set(e.form,"benefit_name","string"==typeof t?t.trim():t)},expression:"form.benefit_name"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"受益人身份证号\n",prop:"benefit_card_num"}},[n("el-input",{attrs:{placeholder:"请输入受益人身份证号\n",clearable:""},model:{value:e.form.benefit_card_num,callback:function(t){e.$set(e.form,"benefit_card_num","string"==typeof t?t.trim():t)},expression:"form.benefit_card_num"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"受益人手机号",prop:"benefit_phone"}},[n("el-input",{attrs:{placeholder:"请输入受益人手机号",clearable:""},model:{value:e.form.benefit_phone,callback:function(t){e.$set(e.form,"benefit_phone",e._n(t))},expression:"form.benefit_phone"}})],1)],1)],1)],1)],1)])],1)],1)},[],!1,null,null,null);s.options.__file="add.vue";t.default=s.exports}}]);