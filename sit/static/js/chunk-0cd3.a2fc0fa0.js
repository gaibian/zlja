(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0cd3"],{D5cr:function(t,a,e){"use strict";e.r(a);var o=e("P2sY"),r=e.n(o),i=e("t3Un"),s=e("glbJ"),n=e("xMja"),l={status:"draft",title:"",content:"",content_short:"",source_uri:"",image_uri:"",source_name:"",display_time:void 0,id:void 0,platforms:["a-platform"],comment_disabled:!1},c={name:"productAdd",data:function(){return{form:{title:"",area:"",status:"",sort:"",description:"",car_type:[],type:1,rate_range:"",company_logo:"",company_img:""},logoLoading:!1,imgLoading:!1,imageLogoUrl:"",imageUrl:"",tinyForm:r()({},l),caries:[],postForm:{status:"draft"},isLoading:!1}},components:{Tinymce:s.a},created:function(){this.getCarList()},methods:{getCarList:function(){var t=this;i.a.get("admin/systemParameter/itemIndex?parameter_id=7").then(function(a){"error"!==a&&(console.log(a),t.caries=a.data)})},add:function(){var t=this;this.form.description=this.tinyForm.content,console.log(this.form);var a=r()({},this.form);a.car_type=a.car_type.toString("1"),Object(n.a)(a).then(function(a){"error"!==a?(console.log(a),_g.toastMsg("success","添加成功"),t.isLoading=!t.isLoading,setTimeout(function(){t.addRefresh("noProductList")})):t.isLoading=!t.isLoading})},handleEmpty:function(){this.form={title:"",area:"",status:"",sort:"",description:"",car_type:"",type:1,rate_range:"",company_logo:"",company_img:""}},handleAvatarSuccess1:function(t,a){console.log(a),this.imageLogoUrl=URL.createObjectURL(a.raw),this.form.company_logo=a.response.data,this.logoLoading=!1},handleAvatarSuccess2:function(t,a){this.imageUrl=URL.createObjectURL(a.raw),this.form.company_img=a.response.data,this.imgLoading=!1},handleAvatarError1:function(t,a,e){this.logoLoading=!1},handleAvatarError2:function(t,a,e){this.imgLoading=!1},beforeAvatarUpload1:function(t){var a=this;this.logoLoading=!0;var e="image/jpeg"===t.type,o=t.size/1024/1024<2;return e||(this.$message.error("上传头像图片只能是 JPG 格式!"),setTimeout(function(){a.logoLoading=!1},1500)),o||(this.$message.error("上传头像图片大小不能超过 2MB!"),setTimeout(function(){a.logoLoading=!1},1500)),e&&o},beforeAvatarUpload2:function(t){var a=this;this.imgLoading=!0;var e="image/jpeg"===t.type,o=t.size/1024/1024<2;return e||(this.$message.error("上传头像图片只能是 JPG 格式!"),setTimeout(function(){a.imgLoading=!1},1500)),o||(this.$message.error("上传头像图片大小不能超过 2MB!"),setTimeout(function(){a.imgLoading=!1},1500)),e&&o}}},m=(e("KzTS"),e("KHd+")),d=Object(m.a)(c,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("sticky",{attrs:{className:"sub-navbar "+t.postForm.status,stickyTop:84}},[e("div",{ref:"appMainFixed",staticClass:"app-main-btm-fixed"},[e("h1",{staticClass:"page-title-box"},[t._v("产品管理"),e("em"),e("span",[t._v("添加")])]),t._v(" "),e("div",[e("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-close"},on:{click:function(a){t.handleEmpty()}}},[t._v("清空表单")]),t._v(" "),e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini",loading:t.isLoading},on:{click:function(a){t.add("form")}}},[t._v("保存")])],1)])]),t._v(" "),e("div",{staticClass:"app_main_content"},[e("el-form",{attrs:{model:t.form,"label-width":"80px","label-position":"left"}},[e("div",{staticClass:"block-box"},[e("h1",{staticClass:"block-header-box"},[e("i"),t._v("\n                    公司信息\n                ")]),t._v(" "),e("div",{staticClass:"block-content-box"},[e("el-row",{attrs:{gutter:30}},[e("el-col",{staticClass:"col-item1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"公司名称"}},[e("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:t.form.title,callback:function(a){t.$set(t.form,"title",a)},expression:"form.title"}})],1)],1),t._v(" "),e("el-col",{staticClass:"col-item1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"地区"}},[e("el-input",{attrs:{placeholder:"请输入地区"},model:{value:t.form.area,callback:function(a){t.$set(t.form,"area",a)},expression:"form.area"}})],1)],1)],1),t._v(" "),e("el-row",{attrs:{gutter:30}},[e("el-col",{staticClass:"col-item1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"展示状态"}},[e("el-switch",{attrs:{"active-text":"启用"},model:{value:t.form.status,callback:function(a){t.$set(t.form,"status",a)},expression:"form.status"}})],1)],1),t._v(" "),e("el-col",{staticClass:"col-item1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"排序"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0,max:10},model:{value:t.form.sort,callback:function(a){t.$set(t.form,"sort",a)},expression:"form.sort"}})],1)],1)],1),t._v(" "),e("el-row",{attrs:{gutter:30}},[e("el-col",{staticClass:"col-item1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"公司LOGO"}},[e("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.logoLoading,expression:"logoLoading"}],staticClass:"avatar-uploader x-avatar-uploader",staticStyle:{width:"178px"},attrs:{action:t.urlAds+"admin/upload","show-file-list":!1,"element-loading-text":"图片上传中...","on-success":t.handleAvatarSuccess1,"on-error":t.handleAvatarError1,"before-upload":t.beforeAvatarUpload1}},[t.imageLogoUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageLogoUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),t._v(" "),e("el-col",{staticClass:"col-item1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"公司大图"}},[e("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.imgLoading,expression:"imgLoading"}],staticClass:"avatar-uploader x-avatar-uploader",staticStyle:{width:"178px"},attrs:{action:t.urlAds+"admin/upload","show-file-list":!1,"element-loading-text":"图片上传中...","on-success":t.handleAvatarSuccess2,"on-error":t.handleAvatarError2,"before-upload":t.beforeAvatarUpload2}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1)],1)]),t._v(" "),e("div",{staticClass:"block-box"},[e("h1",{staticClass:"block-header-box"},[e("i"),t._v("\n                    产品信息\n                ")]),t._v(" "),e("div",{staticClass:"block-content-box"},[e("el-row",{attrs:{gutter:30}},[e("el-col",{staticClass:"col-item1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"佣金费率"}},[e("el-input",{attrs:{placeholder:"请输入佣金费率"},model:{value:t.form.rate_range,callback:function(a){t.$set(t.form,"rate_range",a)},expression:"form.rate_range"}})],1)],1)],1),t._v(" "),e("el-row",{attrs:{gutter:30}},[e("el-col",{attrs:{span:16}},[e("el-form-item",{attrs:{label:"车辆类型"}},[e("el-checkbox-group",{attrs:{min:1},model:{value:t.form.car_type,callback:function(a){t.$set(t.form,"car_type",a)},expression:"form.car_type"}},t._l(t.caries,function(a){return e("el-checkbox",{key:a.id,attrs:{label:a.id}},[t._v(t._s(a.description))])}))],1)],1)],1),t._v(" "),e("el-row",{staticStyle:{"margin-right":"0"},attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"产品说明"}},[e("tinymce",{ref:"editor",attrs:{height:500},model:{value:t.tinyForm.content,callback:function(a){t.$set(t.tinyForm,"content",a)},expression:"tinyForm.content"}})],1)],1)],1)],1)])])],1)],1)},[],!1,null,"17794192",null);d.options.__file="add.vue";a.default=d.exports},KzTS:function(t,a,e){"use strict";var o=e("iPL9");e.n(o).a},iPL9:function(t,a,e){},xMja:function(t,a,e){"use strict";e.d(a,"d",function(){return r}),e.d(a,"a",function(){return i}),e.d(a,"c",function(){return s}),e.d(a,"b",function(){return n});var o=e("t3Un");function r(t){return o.a.delete("insurance/Product/"+t)}function i(t){return o.a.post("insurance/Product",t)}function s(t){return o.a.get("insurance/Product/"+t)}function n(t,a){return o.a.put("insurance/Product/",t,a)}}}]);