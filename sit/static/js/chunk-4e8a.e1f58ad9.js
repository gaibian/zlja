(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4e8a"],{"8T0q":function(t,e,n){"use strict";n.d(e,"r",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return d}),n.d(e,"c",function(){return f}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return g}),n.d(e,"l",function(){return m}),n.d(e,"q",function(){return _}),n.d(e,"m",function(){return b}),n.d(e,"n",function(){return v}),n.d(e,"o",function(){return y}),n.d(e,"p",function(){return w});var a=n("t3Un");function i(t){return a.a.get("insurance/company",t)}function r(t){return a.a.post("insurance/company",t)}function o(t){return a.a.delete("insurance/company/"+t)}function u(t){return a.a.get("insurance/company/"+t)}function c(t,e){return a.a.put("insurance/company/",t,e)}function s(t){return a.a.post("insurance/companyRate",t)}function l(t){return a.a.get("insurance/companyRate/"+t)}function d(t,e){return a.a.put("insurance/companyRate/",t,e)}function f(t){return a.a.delete("insurance/companyRate/"+t)}function p(t){return a.a.post("insurance/ask",t)}function h(t){return a.a.delete("insurance/ask/"+t)}function g(t){return a.a.get("insurance/ask/"+t)}function m(t,e){return a.a.put("insurance/ask/",t,e)}function _(t){return a.a.get("insurance/ask/logIndex",t)}function b(t){return a.a.post("insurance/ask/logSave",t)}function v(t){return a.a.delete("insurance/ask/logDelete/?id="+t,"")}function y(t){return a.a.get("insurance/ask/logRead/?id="+t)}function w(t,e){return a.a.put("insurance/ask/logUpdate/",t,e)}},NvNa:function(t,e,n){},pCtG:function(t,e,n){"use strict";var a=n("7Qib");e.a={mounted:function(){var t=this;this.valHandle(),this.__resizeMainHanlder=Object(a.a)(function(){t.valHandle(0,0)},100),window.addEventListener("resize",this.__resizeMainHanlder)},methods:{valHandle:function(t,e){var n=this.$refs.mainContainer.offsetHeight-40-((this.$refs.topAdd?this.$refs.topAdd.offsetHeight:0)+(this.$refs.btmGroup?this.$refs.btmGroup.offsetHeight:20));this.tableHeight=n}},beforeDestroy:function(){window.removeEventListener("resize",this.__resizeMainHanlder)}}},v3Dm:function(t,e,n){"use strict";n.r(e);var a=n("8T0q"),i=n("xMja"),r={name:"lifeProductAdminList",mixins:[n("pCtG").a],data:function(){return{tableData:[],searchForm:{type:3,company_id:"",queryCheck:0},companyOptions:[],loading:!0,tableHeight:null,multipleSelection:[],update:!1}},created:function(){var t=this;bus.$on("lifeProductAdminList",function(){console.log("刷新了"),t.update=!t.update})},methods:{getSelectVal:function(t){this.multipleSelection=t},handleSearch:function(){this.searchForm.queryCheck=1,this.update=!this.update},handleEdit:function(t){console.log(t),this.$router.push({name:"lifeProductAdminEdit",params:{id:t.row.id},query:{pageClick:_g.editRefresh("lifeProductAdminEdit")}})},handleDelete:function(t){var e=this;this.$confirm("确定删除该保险公司?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.d)(t.row.id).then(function(t){"error"!==t&&(_g.toastMsg("success","删除成功"),setTimeout(function(){e.update=!e.update}))})}).catch(function(){})},handlePaging:function(t){var e=this;console.log(t),this.loading=!0,setTimeout(function(){e.tableData=t.map(function(t){return t.isDeleteLoading=!1,t}),e.loading=!e.loading},300),console.log(this.tableData)},selectItem:function(t){this.multipleSelection=t},refresh:function(){this.update=!this.update},getCompany:function(){var t=this;Object(a.r)({params:{type:1}}).then(function(e){"error"!==e?(console.log(e),t.companyOptions=e.data.list):t.companyOptions=[]})}},computed:{indexShow:function(){return _g.getHasRule("insurance-product-index")},addShow:function(){return _g.getHasRule("insurance-product-save")},readShow:function(){return _g.getHasRule("insurance-product-read")},deletesShow:function(){return _g.getHasRule("insurance-product-deletes")},enablesShow:function(){return _g.getHasRule("insurance-product-enables")},deleteShow:function(){return _g.getHasRule("insurance-product-delete")}}},o=(n("zqJ4"),n("KHd+")),u=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"mainContainer",staticClass:"app_main_container"},[n("div",{staticClass:"page_table_box"},[n("div",{ref:"topAdd",staticClass:"filter-container"},[n("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请选择保险公司名称搜索"},model:{value:t.searchForm.company_id,callback:function(e){t.$set(t.searchForm,"company_id",e)},expression:"searchForm.company_id"}},t._l(t.companyOptions,function(t){return n("el-option",{key:t.id,attrs:{label:t.company_name,value:t.id}})})),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{type:"warning",icon:"el-icon-search",size:"small"},on:{click:t.handleSearch}},[t._v("查询")]),t._v(" "),n("router-link",{staticClass:"filter-item",attrs:{to:"add"}},[t.addShow?n("el-button",{staticClass:"add_btn",attrs:{type:"primary",size:"small",icon:"el-icon-plus"}},[t._v("添加产品")]):t._e()],1)],1),t._v(" "),t.indexShow?n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":t.tableHeight,"element-loading-text":"数据加载中",border:""},on:{selectVal:t.getSelectVal,"selection-change":t.selectItem}},[n("el-table-column",{attrs:{type:"selection",fixed:"left",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{label:"名称",prop:"title"}}),t._v(" "),n("el-table-column",{attrs:{label:"潜在客户",prop:"potential_customer"}}),t._v(" "),n("el-table-column",{attrs:{label:"佣金率",prop:"rate_range","min-width":"60"}}),t._v(" "),n("el-table-column",{attrs:{label:"排序",prop:"sort",width:"80"}}),t._v(" "),n("el-table-column",{attrs:{label:"状态",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:1===e.row.status?"":"warning"}},[t._v("\n                "+t._s(t._f("status")(e.row.status))+"\n                ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"55",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("operates",[t.readShow?n("operate",{attrs:{label:"编辑",svgIcon:"",icon:"operate-edit"},on:{change:function(n){t.handleEdit(e)}}}):t._e(),t._v(" "),t.deleteShow?n("operate",{attrs:{label:"删除",svgIcon:"",icon:"operate-delete"},on:{change:function(n){t.handleDelete(e)}}}):t._e()],1)]}}])})],1):t._e(),t._v(" "),n("div",{ref:"btmGroup",staticStyle:{height:"70px"}},[n("el-row",{staticClass:"pos_rel",staticStyle:{height:"70px"},attrs:{type:"flex",align:"middle",justify:"space-between"}},[n("btn-group",{attrs:{rule:{enablesShow:t.enablesShow,deletesShow:t.deletesShow},selectedData:t.multipleSelection,type:"insurance/Product"},on:{change:t.refresh}}),t._v(" "),n("paging",{attrs:{type:"insurance/Product",updateType:"product",pagingdata:t.searchForm,update:t.update},on:{loadingChange:function(e){t.loading=!0},productPaging:t.handlePaging}})],1)],1)],1)])},[],!1,null,"c4136782",null);u.options.__file="list.vue";e.default=u.exports},xMja:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return u});var a=n("t3Un");function i(t){return a.a.delete("insurance/Product/"+t)}function r(t){return a.a.post("insurance/Product",t)}function o(t){return a.a.get("insurance/Product/"+t)}function u(t,e){return a.a.put("insurance/Product/",t,e)}},zqJ4:function(t,e,n){"use strict";var a=n("NvNa");n.n(a).a}}]);