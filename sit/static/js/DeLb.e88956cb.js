(window.webpackJsonp=window.webpackJsonp||[]).push([["DeLb"],{DeLb:function(e,t,a){"use strict";a.r(t);var n=a("w2ba"),l={name:"dataTableAdd",data:function(){return{postForm:{status:"draft"},form:{name:"",table_name:"",table_engine:"",table_type:"",table_fields:""},tableNameOptions:[],isLoading:!1}},created:function(){var e=this;Object(n.b)().then(function(t){"error"!==t&&(e.tableNameOptions=t.data)})},methods:{add:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.isLoading=!e.isLoading,Object(n.h)(e.form).then(function(t){"error"!==t&&(_g.toastMsg("success","添加成功"),setTimeout(function(){e.addRefresh("dataTableList")},1500)),e.isLoading=!e.isLoading}))})},handleTableName:function(e){var t=this;_(this.tableNameOptions).forEach(function(a){if(e==a.Name)return t.form.table_engine=a.Engine,!1})},handleTransfer:function(){},handleEmpty:function(){this.form={name:"",table_name:"",table_engine:"",table_type:"",table_fields:""}}}},o=a("KHd+"),i=Object(o.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("sticky",{attrs:{className:"sub-navbar "+e.postForm.status,stickyTop:84}},[a("div",{ref:"appMainFixed",staticClass:"app-main-btm-fixed"},[a("h1",{staticClass:"page-title-box"},[e._v("数据表"),a("em"),a("span",[e._v("添加列表项")])]),e._v(" "),a("div",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-close"},on:{click:function(t){e.handleEmpty()}}},[e._v("清空表单")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini",loading:e.isLoading},on:{click:function(t){e.add("form")}}},[e._v("保存")])],1)])]),e._v(" "),a("div",{staticClass:"app_main_content"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"60px","label-position":"top"}},[a("div",{staticClass:"block-box"},[a("el-row",{staticClass:"block-header-box"},[a("i"),e._v("\n          基本信息\n        ")]),e._v(" "),a("div",{staticClass:"block-content-box"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"表格名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入表格名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数据库表名",prop:"table_name"}},[a("el-select",{staticStyle:{width:"100%"},on:{change:e.handleTableName},model:{value:e.form.table_name,callback:function(t){e.$set(e.form,"table_name","string"==typeof t?t.trim():t)},expression:"form.table_name"}},e._l(e.tableNameOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.Name,value:e.Name}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数据库表引擎",prop:"table_engine"}},[a("el-input",{attrs:{placeholder:"请输入数据库表引擎",disabled:""},model:{value:e.form.table_engine,callback:function(t){e.$set(e.form,"table_engine",t)},expression:"form.table_engine"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"表是否写入数据"}},[a("el-radio-group",{on:{change:function(t){e.handleTransfer()}},model:{value:e.form.table_type,callback:function(t){e.$set(e.form,"table_type",t)},expression:"form.table_type"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1)],1)],1)],1)])],1)],1)},[],!1,null,null,null);i.options.__file="add.vue";t.default=i.exports}}]);